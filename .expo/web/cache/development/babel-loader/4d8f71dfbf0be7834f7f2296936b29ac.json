{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\NODEJS\\\\React Native\\\\Mapa\\\\components\\\\Mapa\\\\Posicionamiento.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport styless4 from \"./../../App.sass\";\nimport * as Permissions from \"expo-permissions\";\nimport * as Location from \"expo-location\";\nimport Geolocation from 'react-native-geolocation-service';\nimport Mapa from \"./Mapa\";\n\nvar Posicionamiento = function (_React$Component) {\n  _inherits(Posicionamiento, _React$Component);\n\n  var _super = _createSuper(Posicionamiento);\n\n  function Posicionamiento(props) {\n    var _this;\n\n    _classCallCheck(this, Posicionamiento);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      Altitud: [\"Cargando...\"],\n      Latitud: [\"Cargando...\"],\n      longitude: [\"Cargando...\"],\n      Altitud2: 0,\n      Latitud2: 39.46975,\n      longitude2: -0.37739\n    };\n    return _this;\n  }\n\n  _createClass(Posicionamiento, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"Coords\");\n      this.watchCurrentLocation();\n    }\n  }, {\n    key: \"watchCurrentLocation\",\n    value: function watchCurrentLocation() {\n      var _this2 = this;\n\n      try {\n        this.intervalForWatchPosition = setInterval(function () {\n          _this2.ObtenPosicion2();\n        }, 3000);\n      } catch (err) {\n        console.log(\"Error while current location watch : \", err);\n      }\n    }\n  }, {\n    key: \"ObtenPosicion\",\n    value: function ObtenPosicion() {\n      var _this3 = this;\n\n      Geolocation.getCurrentPosition(function (position) {\n        _this3.setState({\n          Altitud: \" \" + position.coords.altitude.toFixed(2) + \"°\",\n          Latitud: \" \" + position.coords.latitude.toFixed(2) + \"°\",\n          longitude: \" \" + position.coords.longitude.toFixed(2) + \"°\",\n          Altitud2: position.coords.altitude,\n          Latitud2: position.coords.latitude,\n          longitude2: position.coords.longitude\n        });\n      }, function (error) {\n        _this3.setState({\n          Altitud: \"Error con gps\",\n          Latitud: \"\",\n          Lalongitudetitud: \"\"\n        });\n\n        console.log(error.code, error.message);\n      }, {\n        enableHighAccuracy: true,\n        timeout: 15000,\n        maximumAge: 10000\n      });\n    }\n  }, {\n    key: \"ObtenPosicion2\",\n    value: function ObtenPosicion2() {\n      function setLocationWithPerms() {\n        var _await$Permissions$as, status, location, _location$coords, latitude, longitude, altitude;\n\n        return _regeneratorRuntime.async(function setLocationWithPerms$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n              case 2:\n                _await$Permissions$as = _context.sent;\n                status = _await$Permissions$as.status;\n                _context.next = 6;\n                return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({\n                  accuracy: Location.Accuracy.Highest\n                }));\n\n              case 6:\n                location = _context.sent;\n                _location$coords = location.coords, latitude = _location$coords.latitude, longitude = _location$coords.longitude, altitude = _location$coords.altitude;\n\n                if (status === \"granted\") {\n                  this.setState({\n                    Altitud: \" \" + altitude.toFixed(2) + \"°\",\n                    Latitud: \" \" + latitude.toFixed(2) + \"°\",\n                    longitude: \" \" + longitude.toFixed(2) + \"°\",\n                    Altitud2: altitude,\n                    Latitud2: latitude,\n                    longitude2: longitude\n                  });\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this, null, Promise);\n      }\n\n      setLocationWithPerms();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(View, {\n        style: styless4.containerF,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.DatosPosicion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, \"Posicion:\"), React.createElement(Text, {\n        style: styles.DatosPosicion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }, \"-Altitud:\", this.state.Altitud), React.createElement(Text, {\n        style: styles.DatosPosicion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, \"-Latitud:\", this.state.Latitud), React.createElement(Text, {\n        style: styles.DatosPosicion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, \"-Longitud:\", this.state.longitude)), React.createElement(Mapa, {\n        longitude: this.state.longitude2,\n        Altitud: this.state.Altitud2,\n        Latitud: this.state.Latitud2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return Posicionamiento;\n}(React.Component);\n\nexport { Posicionamiento as default };\nvar styles = StyleSheet.create({\n  DatosPosicion: {\n    width: \"auto\",\n    textShadowColor: \"rgba(0, 0, 0, 0.75)\",\n    textShadowOffset: {\n      width: -1,\n      height: 1\n    },\n    textShadowRadius: 10,\n    color: \"white\",\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["E:/NODEJS/React Native/Mapa/components/Mapa/Posicionamiento.js"],"names":["React","styless4","Permissions","Location","Geolocation","Mapa","Posicionamiento","props","state","Altitud","Latitud","longitude","Altitud2","Latitud2","longitude2","console","log","watchCurrentLocation","intervalForWatchPosition","setInterval","ObtenPosicion2","err","getCurrentPosition","position","setState","coords","altitude","toFixed","latitude","error","Lalongitudetitud","code","message","enableHighAccuracy","timeout","maximumAge","setLocationWithPerms","askAsync","LOCATION","status","getCurrentPositionAsync","accuracy","Accuracy","Highest","location","containerF","styles","DatosPosicion","Component","StyleSheet","create","width","textShadowColor","textShadowOffset","height","textShadowRadius","color","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { StyleSheet, Text, View, TextInput } from \"react-native\";\r\nimport styless4 from \"./../../App.sass\";\r\nimport * as Permissions from \"expo-permissions\";\r\nimport * as Location from \"expo-location\";\r\nimport Geolocation from 'react-native-geolocation-service';\r\n\r\nimport Mapa from \"./Mapa\";\r\nexport default class Posicionamiento extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      Altitud: [\"Cargando...\"],\r\n      Latitud: [\"Cargando...\"],\r\n      longitude: [\"Cargando...\"],\r\n      Altitud2: 0,\r\n      Latitud2: 39.46975,\r\n      longitude2: -0.37739,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    console.log(\"Coords\");\r\n    this.watchCurrentLocation();\r\n  }\r\n  watchCurrentLocation() {\r\n    try {\r\n      this.intervalForWatchPosition = setInterval(() => {\r\n        this.ObtenPosicion2();\r\n      }, 3000);\r\n    } catch (err) {\r\n      console.log(\"Error while current location watch : \", err);\r\n    }\r\n  }\r\n  ObtenPosicion() {\r\n    //if (hasLocationPermission) {\r\n\r\n    Geolocation.getCurrentPosition(\r\n      (position) => {\r\n        //console.log(position.coords);\r\n        this.setState({\r\n          Altitud: \" \" + position.coords.altitude.toFixed(2) + \"°\",\r\n          Latitud: \" \" + position.coords.latitude.toFixed(2) + \"°\",\r\n          longitude: \" \" + position.coords.longitude.toFixed(2) + \"°\",\r\n          Altitud2: position.coords.altitude,\r\n          Latitud2: position.coords.latitude,\r\n          longitude2: position.coords.longitude,\r\n        });\r\n      },\r\n      (error) => {\r\n        // See error code charts below.\r\n        this.setState({\r\n          Altitud: \"Error con gps\",\r\n          Latitud: \"\",\r\n          Lalongitudetitud: \"\",\r\n        });\r\n        console.log(error.code, error.message);\r\n      },\r\n      { enableHighAccuracy: true, timeout: 15000, maximumAge: 10000 }\r\n    );\r\n    //}\r\n  }\r\n\r\n\r\n\r\n  ObtenPosicion2(){\r\n    async function setLocationWithPerms() {\r\n      const {status } = await Permissions.askAsync(Permissions.LOCATION);\r\n\r\n      let location = await Location.getCurrentPositionAsync({accuracy:Location.Accuracy.Highest});\r\n      const { latitude , longitude ,altitude} = location.coords\r\n      //this.getGeocodeAsync({latitude, longitude})\r\n     // this.setState({ location: {latitude, longitude}});\r\n\r\n\r\n\r\n      if (status === \"granted\") {\r\n     \r\n        this.setState({\r\n          Altitud: \" \" + altitude.toFixed(2) + \"°\",\r\n          Latitud: \" \" + latitude.toFixed(2) + \"°\",\r\n          longitude: \" \" + longitude.toFixed(2) + \"°\",\r\n          Altitud2: altitude,\r\n          Latitud2: latitude,\r\n          longitude2: longitude,\r\n        });\r\n      }\r\n    }\r\n    setLocationWithPerms();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <View style={styless4.containerF}>\r\n          <Text style={styles.DatosPosicion}>Posicion:</Text>\r\n          <Text style={styles.DatosPosicion}>\r\n            -Altitud:\r\n            {this.state.Altitud}\r\n          </Text>\r\n          <Text style={styles.DatosPosicion}>\r\n            -Latitud:\r\n            {this.state.Latitud}\r\n          </Text>\r\n\r\n          <Text style={styles.DatosPosicion}>\r\n            -Longitud:\r\n            {this.state.longitude}\r\n          </Text>\r\n          {/*Mapa:*/}\r\n        </View>\r\n\r\n        <Mapa\r\n          longitude={this.state.longitude2}\r\n          Altitud={this.state.Altitud2}\r\n          Latitud={this.state.Latitud2}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  DatosPosicion: {\r\n    width: \"auto\",\r\n    textShadowColor: \"rgba(0, 0, 0, 0.75)\",\r\n    textShadowOffset: { width: -1, height: 1 },\r\n    textShadowRadius: 10,\r\n    color: \"white\",\r\n    fontSize: 20,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}